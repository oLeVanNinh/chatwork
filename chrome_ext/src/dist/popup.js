(()=>{"use strict";var e={863:(e,t,n)=>{async function o(e){return new Promise(((t,n)=>{try{chrome.storage.sync.get(e,(function(n){t(n[e])}))}catch(e){n(e)}}))}async function r(e,t){return new Promise(((n,o)=>{let r={};r[e]=t;try{chrome.storage.sync.set(r,(function(){n(e)}))}catch(e){o(e)}}))}function a(e){return new Promise((async(t,n)=>{try{let n=new XMLHttpRequest;n.open("POST",e,!0);let o=await async function(){return new Promise(((e,t)=>{try{chrome.cookies.getAll({domain:".chatwork.com"},(function(t){let n=t.map((e=>[e.name,e.value].join("="))).join("; ");e(n)}))}catch(e){t(e)}}))}(),r="cookie_string="+encodeURIComponent(o);n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){let e=this.responseText;t(e)},n.send(r)}catch(e){n(e)}}))}n.d(t,{uE:()=>o,Vj:()=>r,jE:()=>a}),chrome.cookies.onChanged.addListener((async function(e){if(e.cookie.domain.match(/chatwork/)){let e=await o("endpoint");if(e){let t=await a(e.url);e.status=JSON.parse(t).message,await r("endpoint",e)}}}))}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(863);function t(e){if(e){console.log(e);let t=`<div>${e.url}</div><div>${e.status}</div`;document.getElementById("url-list").innerHTML=t}}!async function(){t(await(0,e.uE)("endpoint"))}(),document.getElementById("add_url").onclick=async function(){let n=document.getElementById("sync_url"),o=n.value.trim();if(o){let r=await(0,e.jE)(o);n.value="";let a={url:o,status:JSON.parse(r).message};await(0,e.Vj)("endpoint",a),t(a)}}})()})();